<div class="pull-right" style="padding-top: 5px;">
  <%= link_to 'Edit', edit_task_path(@task), :class => 'btn btn-default' %>
</div>
<h1><%= @task.title %></h1>
<% if @task.project %>
<h2 class="page-header" style="color: #666;"><%= link_to @task.project.name, @task.project %></h2>
<% else %>
<h2 class="page-header" style="color: #ccc;">(Not assigned to a project)</h2>
<% end %>

<p>
  <strong>Details:</strong>
  <%= simple_format(@task.details) %>
</p>

<p>
  <strong>Assigned to:</strong>
  <% if @task.assignee %>
  <%= link_to @task.assignee.name, @task.assignee %>
  <% else %>
  Nobody
  <% end %>
</p>

<p>
  <strong>Created by:</strong>
  <% if @task.creator %>
  <%= link_to @task.creator.name, @task.creator %>
  <% else %>
  Nobody
  <% end %>
</p>

<p>
  <strong>Priority:</strong>
  <%= @task.priority.to_s.gsub(/_/, ' ').capitalize %>
</p>

<p>
  <strong>GitHub Issue:</strong>
  <% if @task.gh_issue_number %>
  <% gh_url = 'https://github.com/' + @task.project.gh_repo_url_parse(:both) + '/issues/' + @task.gh_issue_number %>
  <%= link_to gh_url, gh_url %>
  <% else %>
  None given
  <% end %>
</p>

<p>
  <strong>Due:</strong>
  <%= @task.due.nil? ? 'No due date' : time_ago_in_words(@task.due) %>
</p>

<p>
  <strong>Completed:</strong>
  <%= @task.completed.nil? ? 'Not yet' : time_ago_in_words(@task.completed) %>
</p>

<p>
  <strong>Link:</strong>
  <%= @task.link %>
</p>
